!function(){function t(t,e,i,o){var n={};return function(t,e,i){function o(t,i){this.option=i=e.extend({},this.defaultOption,i),this.el=e(t).eq(0),this.autoPlay=i.autoPlay,this.hasIndicator=i.indicator,this.callBack=i.callBack,this.currentIndex=null,this._init(),this.play()}o.prototype={defaultOption:{index:null,autoPlay:!1,duration:3e3,indicator:!1,callBack:null},_init:function(){var t=e(">.ipu-carousel-wrapper",this.el),o=e(">li",t);this.carouselItems=o,this.size=o.size();var n=this;if(null==this.option.index){var s=o.filter(".ipu-current").index();this.option.index=s!=-1?s:0}this.hasIndicator&&this._addIndicator(),e(window).resize(function(){n.refresh()});var a={snap:"li",momentum:!1,scrollX:!0,scrollY:!1,hScrollbar:!1,onScrollStart:function(){n._pause()},onTouchEnd:function(){},onScrollEnd:function(){n._end()}};this.iscroll=new i(this.el.get(0),a),this.show(this.option.index,0)},stop:function(){this._pause(),this.autoPlay=!1},_pause:function(){this.autoPlay&&this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},prev:function(){var t=0==this.currentIndex?this.size-1:this.currentIndex-1;this.show(t)},next:function(){var t=this.currentIndex==this.size-1?0:this.currentIndex+1;this.show(t)},show:function(t,e){this._pause(),this.iscroll.scrollToPage(t,0,e)},play:function(){this.autoPlay=!0,this._play()},refresh:function(){this.show(this.currentIndex)},_play:function(){if(this.autoPlay&&!this.timeoutId){var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.next()},t.option.duration)}},_end:function(){var t=this.iscroll.currPageX;t!=this.currentIndex&&(this.callBack&&this.callBack(t,this.currentIndex),this.currentIndex=t,this.hasIndicator&&this.indicatorIndexs.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.carouselItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current")),this._play()},_addIndicator:function(){for(var t="",i=0;i<this.size;i++)t+="<li></li>";t="<ul class='ipu-carousel-indicator'>"+t+"</ul>",this.indicator=e(t).appendTo(this.el),this.indicatorIndexs=e("li",this.indicator)},destroy:function(){this.iscroll.destroy()}},t.carousel=function(t,e){return new o(t,e)}}(n||window,t,e),function(t,e){function i(i){this.option=e.extend({},this.defaultOption,i),o||(o=t.Picker),this._init()}var o=t.Picker,n=new Date;i.prototype.defaultOption={template:'<div class="ipu-poppicker ipu-dtpicker"><div class="ipu-poppicker-header"><button class="ipu-btn ipu-btn-s ipu-poppicker-btn-cancel">取消</button><button class="ipu-btn ipu-btn-s ipu-poppicker-btn-ok">确定</button><button class="ipu-btn ipu-btn-s ipu-poppicker-btn-clear">清除</button></div><div class="ipu-poppicker-title"><label class="ipu-dtpicker-y"></label><label class="ipu-dtpicker-m"></label><label class="ipu-dtpicker-d"></label><label class="ipu-dtpicker-h"></label><label class="ipu-dtpicker-mi"></label></div><div><div class="ipu-poppicker-body"><div class="ipu-picker" data-id="picker-y"><div class="ipu-picker-selectbox"></div><ul></ul></div><div class="ipu-picker" data-id="picker-m"><div class="ipu-picker-selectbox"></div><ul></ul></div><div class="ipu-picker" data-id="picker-d"><div class="ipu-picker-selectbox"></div><ul></ul></div><div class="ipu-picker" data-id="picker-h"><div class="ipu-picker-selectbox"></div><ul></ul></div><div class="ipu-picker" data-id="picker-mi"><div class="ipu-picker-selectbox"></div><ul></ul></div></div></div>',buttons:["取消","确认","清除"],labels:["年","月","日","时","分"],type:"datetime",customData:{},hasClear:!1,beginDate:null,endDate:null,callBack:null},i.prototype._init=function(){var t=this;this.mask=this.createMask();var i=this.holder=e(this.option.template).appendTo("body"),n=t.ui={picker:this.holder,ok:e(".ipu-poppicker-btn-ok",i),cancel:e(".ipu-poppicker-btn-cancel",i),clear:e(".ipu-poppicker-btn-clear",i),buttons:e(".ipu-poppicker-header .ipu-btn",i),labels:e(".ipu-poppicker-title label",i)};n.i=new o(e('[data-id="picker-mi"]',i),{listen:!1}),n.h=new o(e('[data-id="picker-h"]',i),{listen:!1,onChange:function(e,i){null!==i&&(t.option.beginMonth||t.option.endMonth)&&t._createMinutes()}}),n.d=new o(e('[data-id="picker-d"]',i),{listen:!1,onChange:function(e,i){null!==i&&(t.option.beginMonth||t.option.endMonth)&&t._createHours()}}),n.m=new o(e('[data-id="picker-m"]',i),{listen:!1,onChange:function(e,i){null!==i&&t._createDay()}}),n.y=new o(e('[data-id="picker-y"]',i),{listen:!1,onChange:function(e,i){null!=i&&(t.option.beginMonth||t.option.endMonth?t._createMonth():t._createDay())}}),t._create(),t._setLabels(),t._setButtons(),n.picker.attr("data-type",this.option.type),t._setSelectedValue(this.option.value)},i.prototype.getSelected=function(){var t=this,e=t.ui,i=t.option.type,o={type:i,y:e.y.getSelectedItem(),m:e.m.getSelectedItem(),d:e.d.getSelectedItem(),h:e.h.getSelectedItem(),i:e.i.getSelectedItem(),toString:function(){return this.value}};switch(i){case"datetime":o.value=o.y.value+"-"+o.m.value+"-"+o.d.value+" "+o.h.value+":"+o.i.value,o.text=o.y.text+"-"+o.m.text+"-"+o.d.text+" "+o.h.text+":"+o.i.text;break;case"date":o.value=o.y.value+"-"+o.m.value+"-"+o.d.value,o.text=o.y.text+"-"+o.m.text+"-"+o.d.text;break;case"time":o.value=o.h.value+":"+o.i.value,o.text=o.h.text+":"+o.i.text;break;case"month":o.value=o.y.value+"-"+o.m.value,o.text=o.y.text+"-"+o.m.text;break;case"hour":o.value=o.y.value+"-"+o.m.value+"-"+o.d.value+" "+o.h.value,o.text=o.y.text+"-"+o.m.text+"-"+o.d.text+" "+o.h.text}return o},i.prototype._setSelectedValue=function(t){var e=this,i=e.ui;t||(t="time"==this.option.type?"00:00":n.getFullYear()+"-"+(n.getMonth()+1)+"-"+n.getDate()+" "+n.getHours()+":"+n.getMinutes());var o=e._parseSetValue(t);i.y.setListen(!0),i.m.setListen(!1),i.d.setListen(!1),i.h.setListen(!1),i.i.setListen(!1),i.y.setSelectedValue(o.y),i.m.setListen(!0),i.m.setSelectedValue(o.m),i.d.setListen(!0),i.d.setSelectedValue(o.d),i.h.setListen(!0),i.h.setSelectedValue(o.h),i.i.setListen(!0),i.i.setSelectedValue(o.i),this.value=this.getSelected().value},i.prototype.setSelectedValue=function(t){this._setSelectedValue(t)},i.prototype.isLeapYear=function(t){return t%4==0&&t%100!=0||t%400==0},i.prototype._inArray=function(t,e){for(var i in t){var o=t[i];if(o===e)return!0}return!1},i.prototype.getDayNum=function(t,e){var i=this;return i._inArray([1,3,5,7,8,10,12],e)?31:i._inArray([4,6,9,11],e)?30:i.isLeapYear(t)?29:28},i.prototype._fill=function(t){return t=t.toString(),t.length<2&&(t=0+t),t},i.prototype._isBeginYear=function(){return this.option.beginYear===parseInt(this.ui.y.getSelectedValue())},i.prototype._isBeginMonth=function(){return this.option.beginMonth&&this._isBeginYear()&&this.option.beginMonth===parseInt(this.ui.m.getSelectedValue())},i.prototype._isBeginDay=function(){return this._isBeginMonth()&&this.option.beginDay===parseInt(this.ui.d.getSelectedValue())},i.prototype._isBeginHours=function(){return this._isBeginDay()&&this.option.beginHours===parseInt(this.ui.h.getSelectedValue())},i.prototype._isEndYear=function(){return this.option.endYear===parseInt(this.ui.y.getSelectedValue())},i.prototype._isEndMonth=function(){return this.option.endMonth&&this._isEndYear()&&this.option.endMonth===parseInt(this.ui.m.getSelectedValue())},i.prototype._isEndDay=function(){return this._isEndMonth()&&this.option.endDay===parseInt(this.ui.d.getSelectedValue())},i.prototype._isEndHours=function(){return this._isEndDay()&&this.option.endHours===parseInt(this.ui.h.getSelectedValue())},i.prototype._createYear=function(){var t=this,e=t.option,i=t.ui,o=[];if(e.customData.y)o=e.customData.y;else for(var n=e.beginYear,s=e.endYear,a=n;a<=s;a++)o.push({text:a+"",value:a});i.y.setItems(o)},i.prototype._createMonth=function(){var t=this,e=t.option,i=t.ui,o=[];if(e.customData.m)o=e.customData.m;else for(var n=e.beginMonth&&t._isBeginYear()?e.beginMonth:1,s=e.endMonth&&t._isEndYear()?e.endMonth:12;n<=s;n++){var a=t._fill(n);o.push({text:a,value:n})}i.m.setItems(o)},i.prototype._createDay=function(){var t=this,e=t.option,i=t.ui,o=[];if(e.customData.d)o=e.customData.d;else for(var n=t._isBeginMonth()?e.beginDay:1,s=t._isEndMonth()?e.endDay:t.getDayNum(parseInt(this.ui.y.getSelectedValue()),parseInt(this.ui.m.getSelectedValue()));n<=s;n++){var a=t._fill(n);o.push({text:a,value:n})}i.d.setItems(o)},i.prototype._createHours=function(){var t=this,e=t.option,i=t.ui,o=[];if(e.customData.h)o=e.customData.h;else for(var n=t._isBeginDay()?e.beginHours:0,s=t._isEndDay()?e.endHours:23;n<=s;n++){var a=t._fill(n);o.push({text:a,value:n})}i.h.setItems(o)},i.prototype._createMinutes=function(){var t=this,e=t.option,i=t.ui,o=[];if(e.customData.i)o=e.customData.i;else for(var n=t._isBeginHours()?e.beginMinutes:0,s=t._isEndHours()?e.endMinutes:59;n<=s;n++){var a=t._fill(n);o.push({text:a,value:n})}i.i.setItems(o)},i.prototype._setLabels=function(){var t=this,e=t.option,i=t.ui;i.labels.each(function(t,i){i.innerText=e.labels[t]})},i.prototype._setButtons=function(){var t=this,i=t.option,o=t.ui;o.cancel.text(i.buttons[0]),o.ok.text(i.buttons[1]),i.hasClear?o.clear.text(i.buttons[2]):o.clear.hide(),o.buttons.each(function(i){e(this).click(function(){t.clickCall(i)})})},i.prototype._parseSetValue=function(t){var e=n,i=this.option.type,o={y:e.getFullYear(),m:e.getMonth()+1,d:e.getDate(),h:e.getHours(),i:e.getMinutes()};t instanceof Date&&(t="time"==i?t.getHours()+":"+t.getMinutes():t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()+" "+t.getHours()+":"+t.getMinutes());for(var s=t.replace(":","-").replace(" ","-").split("-"),a=0,r=s.length;a<r;a++)s[a]=parseInt(s[a]);return"datetime"==i?(o.y=s[0],o.m=s[1],o.d=s[2],o.h=s[3],o.i=s[4]):"date"==i?(o.y=s[0],o.m=s[1],o.d=s[2],o.h=0,o.i=0):"time"==i?(o.h=s[0],o.i=s[1]):"hour"==i?(o.y=s[0],o.m=s[1],o.d=s[2],o.h=s[3],o.i=0):"month"==i&&(o.y=s[0],o.m=s[1],o.d=1,o.h=0,o.i=0),o},i.prototype._create=function(){var t=this,e=this.option,i=n,o=e.beginDate;o?(o=this._parseSetValue(o),e.beginYear=o.y,e.beginMonth=o.m,e.beginDay=o.d,e.beginHours=o.h,e.beginMinutes=o.i):"time"==e.type?(e.beginYear=i.getFullYear(),e.beginMonth=i.getMonth()+1,e.beginDay=i.getDate(),e.beginHours=0,e.beginMinutes=0):e.beginYear=i.getFullYear()-5;var s=e.endDate;s?(s=this._parseSetValue(s),e.endYear=s.y,e.endMonth=s.m,e.endDay=s.d,e.endHours=s.h,e.endMinutes=s.i):"time"==e.type?(e.endYear=i.getFullYear(),e.endMonth=i.getMonth()+1,e.endDay=i.getDate(),e.endHours=23,e.endMinutes=59):e.endYear=e.beginYear+10,t._createYear(),t._createMonth(),t._createDay(),t._createHours(),t._createMinutes()},i.prototype.setDateRange=function(t,e){this.option.beginDate=t,this.option.endDate=e,this._create()},i.prototype.setBeginDate=function(t){this.option.beginDate=t,this._create()},i.prototype.setEndDate=function(t){this.option.endDate=t,this._create()},i.prototype.dispose=function(){var t=this;t.hide(),setTimeout(function(){t.ui.picker.parentNode.removeChild(t.ui.picker);for(var e in t)t[e]=null,delete t[e];t.disposed=!0},300)},i.prototype.show=function(t){t&&(this.option.callBack=t),this.mask.show(),this.setSelectedValue(this.value),this.holder.addClass("ipu-current")},i.prototype.clickCall=function(t){var e=this,i=e.getSelected(),o=e.option.callBack.call(this,i,t);o!==!1&&(1==t?e.value=i.value:2==t&&(e.value=null),e.hide())},i.prototype.hide=function(){this.mask.close(),this.holder.removeClass("ipu-current")},i.prototype.createMask=function(t){var e=this,i=document.createElement("div");i.classList.add("ipu-picker-backup"),i.addEventListener("click",function(){e.clickCall(0)});var o=[i];return o._show=!1,o.show=function(){return o._show=!0,i.setAttribute("style","opacity:1"),document.body.appendChild(i),o},o._remove=function(){return o._show&&(o._show=!1,i.setAttribute("style","opacity:0"),setTimeout(function(){var t=document.body;i.parentNode===t&&t.removeChild(i)},350)),o},o.close=function(){o._show&&(t?t()!==!1&&o._remove():o._remove())},o},t.dtPicker=function(t){return new i(t)}}(n||window,t),function(t,e,i){function o(t,i){this.option=e.extend({},this.defaultOption,i),this.el=e(t).get(0),this._init()}o.prototype={defaultOption:{index:null,autoPlay:!1,duration:3e3,indicator:!1,callBack:null,clickBack:null},_init:function(){this.wrapper=e(">.ipu-carousel-wrapper",this.el),this.carouselItems=e(">li",this.wrapper),this.showSize=1,this.carouselItemSizes=[],this.currentIndex=0,this.moveLen=0,this.lastItem=!1,this.carouselItems.slice(0,this.showSize).clone().appendTo(this.wrapper),this.size=this.carouselItems.size();var t=this;if(this.option.clickBack&&e(">li",this.wrapper).each(function(i){e(this).click(function(){t.option.clickBack.call(this,i%t.size)})}),this._sizeCount(),this.hammer=new i.Manager(this.el),this.hammer.add(new i.Pan({direction:i.DIRECTION_HORIZONTAL,threshold:10})),this.hammer.on("panstart panmove panend pancancel",i.bindFn(this._onPan,this)),e(window).resize(function(){t.refresh()}),null==this.option.index){var o=this.carouselItems.filter(".ipu-current").index();this.option.index=o!=-1?o:0}this.option.indicator&&this._addIndicator(),this.show(this.option.index)},stop:function(){this._pause(),this.option.autoPlay=!1},_pause:function(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=null)},prev:function(){var t=0==this.currentIndex?this.size-1:this.currentIndex-1;t==this.size-1&&(this._show(this.size,!1),this.wrapper.width()),this._show(t,!0)},next:function(){var t=this.currentIndex==this.size?1:this.currentIndex+1;1==t&&(this._show(0,!1),this.wrapper.width()),this._show(t,!0)},show:function(t){var t=t%this.size;t<0&&(t=this.size+t),this._show(t)},play:function(){this.option.autoPlay=!0,this._play()},_play:function(){if(this.option.autoPlay&&!this.timeoutId){var t=this;this.timeoutId=setTimeout(function(){t.timeoutId=null,t.next()},t.option.duration)}},_end:function(){var t=this.currentIndex;this.option.callBack&&this.option.callBack(t,this.lastItem),this.indicator&&this.indicatorIndexs.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.carouselItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this._play()},_addIndicator:function(){for(var t="",i=0;i<this.size;i++)t+="<li></li>";t="<ul class='ipu-carousel-indicator'>"+t+"</ul>",this.indicator=e(t).appendTo(this.el),this.indicatorIndexs=e("li",this.indicator)},_sizeCount:function(){this.wrapperSize=this.wrapper.outerWidth(!0),this.itemSize=this.carouselItems.eq(0).outerWidth(!0),this.mostSize=this.size*this.itemSize,e(this.wrapper).removeClass("ipu-carousel-animate").width();var t=this;e(">li",this.wrapper).each(function(i,o){t.carouselItemSizes[i]=e(this).position().left})},refresh:function(){this.wrapperSize!=this.wrapper.outerWidth(!0)&&(this._sizeCount(),this._show(this.currentIndex,!0))},_move:function(t){this._pause(),e(this.wrapper).removeClass("ipu-carousel-animate");var i=(this.moveLen-t)%this.mostSize;i=(i+this.mostSize)%this.mostSize,this.displayMoveLen=i,i=-i+"px",e(this.wrapper).css("transform","translate3d("+i+", 0, 0)")},_show:function(t,i){i!==!1&&(i=!0),this._pause(),e(this.wrapper).toggleClass("ipu-carousel-animate",i),this.currentIndex=t%this.size,this.lastItem=t==this.size;var o=this.carouselItemSizes[t];this.moveLen=o,o=-o+"px",e(this.wrapper).css("transform","translate3d("+o+", 0, 0)"),i&&this._end()},_onPan:function(t){var e=t.deltaX;if("panend"==t.type||"pancancel"==t.type){var i=e/this.itemSize,o=parseInt(Math.abs(i)),n=Math.abs(i)%1;n>.2&&(o+=1),i>0&&(o=-o);var s=(this.currentIndex+o)%this.size;s=(s+this.size)%this.size,0==s&&this.displayMoveLen>this.itemSize&&(s=this.size),this._show(s)}else"panmove"==t.type&&this._move(e)}},t.hammerCarousel=function(t,e){return new o(t,e)}}(n||window,t,i),function(t,e){function i(t,e){function i(t){if(t.target===this)for(e.call(this,t),o=0;o<n.length;o++)s.off(n[o],i)}var o,n=t,s=this;if(e)for(o=0;o<n.length;o++)s.on(n[o],i)}function o(i){var o=e(this);o.attr("href");o.hasClass("ipu-modal-overlay")&&(e(".ipu-modal.ipu-modal-in").length>0&&s.modalCloseByOutside&&t.closeModal(".ipu-modal.ipu-modal-in"),e(".ipu-actions-modal.ipu-modal-in").length>0&&s.actionsCloseByOutside&&t.closeModal(".ipu-actions-modal.ipu-modal-in")),o.hasClass("ipu-popup-overlay")&&e(".ipu-popup.ipu-modal-in").length>0&&s.popupCloseByOutside&&t.closeModal(".ipu-popup.modal-in")}e.fn.transitionEnd=function(t){return i.call(this,["webkitTransitionEnd","transitionend"],t),this};var n=document.createElement("div"),s={modalTitle:"",modalStack:!0,modalButtonOk:"确定",modalButtonCancel:"取消",modalPreloaderTitle:"加载中",modalContainer:document.body?document.body:"body"};t.modalStack=[],t.modalStackClearQueue=function(){t.modalStack.length&&t.modalStack.shift()()},t.modal=function(i){i=i||{};var o="",a="";if(i.buttons&&i.buttons.length>0)for(var r=0;r<i.buttons.length;r++)a+='<span class="ipu-modal-button'+(i.buttons[r].bold?" ipu-modal-button-bold":"")+'">'+i.buttons[r].text+"</span>";var l=i.extraClass||"",u=i.title?'<div class="ipu-modal-title">'+i.title+"</div>":"",d=i.text?'<div class="ipu-modal-text">'+i.text+"</div>":"",c=i.afterText?i.afterText:"",h=i.buttons&&0!==i.buttons.length?"":"ipu-modal-no-buttons",p=i.verticalButtons?"ipu-modal-buttons-vertical":"";o='<div class="ipu-modal '+l+" "+h+'"><div class="ipu-modal-inner">'+(u+d+c)+'</div><div class="ipu-modal-buttons '+p+'">'+a+"</div></div>",n.innerHTML=o;var m=e(n).children();return e(s.modalContainer).append(m[0]),m.find(".ipu-modal-button").each(function(o,n){e(n).on("click",function(e){i.buttons[o].close!==!1&&t.closeModal(m),i.buttons[o].onClick&&i.buttons[o].onClick(m,e),i.onClick&&i.onClick(m,o)})}),t.openModal(m),m[0]},t.alert=function(e,i,o){return"function"==typeof i&&(o=arguments[1],i=void 0),t.modal({text:e||"",title:"undefined"==typeof i?s.modalTitle:i,buttons:[{text:s.modalButtonOk,bold:!0,onClick:o}]})},t.confirm=function(e,i,o,n){return"function"==typeof i&&(n=arguments[2],o=arguments[1],i=void 0),t.modal({text:e||"",title:"undefined"==typeof i?s.modalTitle:i,buttons:[{text:s.modalButtonCancel,bold:!0,onClick:n},{text:s.modalButtonOk,bold:!0,onClick:o}]})},t.prompt=function(i,o,n,a){return"function"==typeof o&&(a=arguments[2],n=arguments[1],o=void 0),t.modal({text:i||"",title:"undefined"==typeof o?s.modalTitle:o,afterText:'<input type="text" class="ipu-modal-text-input">',buttons:[{text:s.modalButtonCancel},{text:s.modalButtonOk,bold:!0}],onClick:function(t,i){0===i&&a&&a(e(t).find(".ipu-modal-text-input").val()),1===i&&n&&n(e(t).find(".ipu-modal-text-input").val())}})};var a=!1,r=!1,l=!1,u=null;t.showPreloader=function(e,i){return t.hidePreloader(!0),t.showPreloader.preloaderModal=t.modal({title:e||s.modalPreloaderTitle,text:'<div class="ipu-preloader"></div>'}),i&&(a=!0,u=setTimeout(function(){r=!0,l&&t.hidePreloader()},i)),t.showPreloader.preloaderModal},t.hidePreloader=function(e){e||!a||a&&r?(e&&u&&window.clearTimeout(u),t.showPreloader.preloaderModal&&t.closeModal(t.showPreloader.preloaderModal),a=!1,r=!1,l=!1,u=null):l=!0},t.showIndicator=function(){e(".ipu-preloader-indicator-modal")[0]||e(s.modalContainer).append('<div class="ipu-preloader-indicator-overlay"></div><div class="ipu-preloader-indicator-modal"><span class="ipu-preloader ipu-preloader-white"></span></div>')},t.hideIndicator=function(){e(".ipu-preloader-indicator-overlay, .ipu-preloader-indicator-modal").remove()},t.actions=function(i){var o,a,r;i=i||[],i.length>0&&!e.isArray(i[0])&&(i=[i]);for(var l,u="",d=0;d<i.length;d++)for(var c=0;c<i[d].length;c++){0===c&&(u+='<div class="ipu-actions-modal-group">');var h=i[d][c],p=h.label?"ipu-actions-modal-label":"ipu-actions-modal-button";h.bold&&(p+=" ipu-actions-modal-button-bold"),h.color&&(p+=" ipu-color-"+h.color),h.bg&&(p+=" ipu-bg-"+h.bg),h.disabled&&(p+=" disabled"),u+='<span class="'+p+'">'+h.text+"</span>",c===i[d].length-1&&(u+="</div>")}l='<div class="ipu-actions-modal">'+u+"</div>",n.innerHTML=l,o=e(n).children(),e(s.modalContainer).append(o[0]),a=".ipu-actions-modal-group",r=".ipu-actions-modal-button";var m=o.find(a);return m.each(function(n,s){var a=n;e(s).children().each(function(n,s){var l,u=n,d=i[a][u];e(s).is(r)&&(l=e(s)),l&&l.on("click",function(e){d.close!==!1&&t.closeModal(o),d.onClick&&d.onClick(o,e)})})}),t.openModal(o),o[0]},t.toast=function(i,o,n){var s=e('<div class="ipu-modal ipu-toast '+(n||"")+'">'+i+"</div>").appendTo(document.body);t.openModal(s,function(){setTimeout(function(){t.closeModal(s)},o||2e3)})},t.openModal=function(i,o){i=e(i);var n=i.hasClass("ipu-modal"),a=!i.hasClass("ipu-toast");if(a=!1,e(".ipu-modal.ipu-modal-in:not(.ipu-modal-out)").length&&s.modalStack&&n&&a)return void t.modalStack.push(function(){t.openModal(i,o)});var r=i.hasClass("ipu-popup"),l=i.hasClass("ipu-login-screen"),u=i.hasClass("ipu-picker-modal"),d=i.hasClass("ipu-toast");n&&(i.show(),i.css({marginTop:-Math.round(i.outerHeight()/2)+"px"})),d&&i.css({marginLeft:-Math.round(i.outerWidth()/2)+"px"});var c;l||u||d||(0!==e(".ipu-modal-overlay").length||r||e(s.modalContainer).append('<div class="ipu-modal-overlay"></div>'),0===e(".ipu-popup-overlay").length&&r&&e(s.modalContainer).append('<div class="ipu-popup-overlay"></div>'),c=e(r?".ipu-popup-overlay":".ipu-modal-overlay"));i[0].clientLeft;return i.trigger("open"),u&&e(s.modalContainer).addClass("ipu-with-picker-modal"),l||u||d||c.addClass("ipu-modal-overlay-visible"),i.removeClass("ipu-modal-out").addClass("ipu-modal-in").transitionEnd(function(t){i.hasClass("ipu-modal-out")?i.trigger("closed"):i.trigger("opened")}),"function"==typeof o&&o.call(this),!0},t.closeModal=function(i){if(i=e(i||".ipu-modal-in"),"undefined"==typeof i||0!==i.length){var o=i.hasClass("ipu-modal"),n=i.hasClass("ipu-popup"),a=i.hasClass("ipu-toast"),r=i.hasClass("ipu-login-screen"),l=i.hasClass("ipu-picker-modal"),u=i.hasClass("ipu-remove-on-close"),d=e(n?".ipu-popup-overlay":".ipu-modal-overlay");return n?i.length===e(".ipu-popup.ipu-modal-in").length&&d.removeClass("ipu-modal-overlay-visible"):l||a||d.removeClass("ipu-modal-overlay-visible"),i.trigger("close"),l&&(e(s.modalContainer).removeClass("ipu-with-picker-modal"),e(s.modalContainer).addClass("ipu-picker-modal-closing")),i.removeClass("ipu-modal-in").addClass("ipu-modal-out").transitionEnd(function(t){i.hasClass("ipu-modal-out")?i.trigger("closed"):i.trigger("opened"),l&&e(s.modalContainer).removeClass("ipu-picker-modal-closing"),n||r||l?(i.removeClass("ipu-modal-out").hide(),u&&i.length>0&&i.remove()):i.remove()}),o&&s.modalStack&&t.modalStackClearQueue(),!0}},e(document).on("click"," .ipu-modal-overlay, .ipu-popup-overlay, .ipu-close-popup, .ipu-open-popup, .ipu-close-picker",o)}(n||window,t),function(t,e){function i(t,i){this.option=e.extend({},this.defaultOption,i),this.content=e(this.option.contentSlt),this.nav=e(t),this.wrapper=e(">ul",this.content),this.contents=e(">li",this.wrapper),this.navs=e(">a",this.nav);var o=this,n=this.navs.filter(".ipu-current").index();n==-1&&(n=this.contents.filter(".ipu-current").index()),this.option.index=n!=-1?n:0,this.option.animate||this.wrapper.addClass("ipu-no-animation"),this.navs.each(function(t,i){e(this).click(function(){o.show(t)})}),this.lastIndex=null,this.currentIndex=null,o.show(this.option.index)}i.prototype.defaultOption={animate:!1,contentSlt:".ipu-nav-content",callBack:function(t,e){}},i.prototype.show=function(t){this.currentIndex!=t&&(e(this.contents[t]).addClass("ipu-show"),this.option.animate?(null!=this.lastIndex&&this.lastIndex!=t&&e(this.contents[this.lastIndex]).removeClass("ipu-show"),null!=this.currentIndex&&(this.currentIndex<t?null!=this.lastIndex&&this.lastIndex<this.currentIndex&&this.wrapper.addClass("ipu-no-animation").removeClass("ipu-nav-content-right").width():(null==this.lastIndex||this.lastIndex>this.currentIndex)&&this.wrapper.addClass("ipu-no-animation").addClass("ipu-nav-content-right").width(),this.wrapper.removeClass("ipu-no-animation").toggleClass("ipu-nav-content-right"))):e(this.contents[this.currentIndex]).removeClass("ipu-show"),e(this.contents[t]).addClass("ipu-current").siblings(".ipu-current").removeClass("ipu-current"),e(this.navs[t]).addClass("ipu-current").siblings(".ipu-current").removeClass("ipu-current"),this.lastIndex=this.currentIndex,this.currentIndex=t,this.option.callBack&&this.option.callBack(this.currentIndex,this.lastIndex))},t.navBar=function(t,e){return new i(t,e)}}(n||window,t),function(t,e){function i(t,e){function i(t){if(t.target===this)for(e.call(this,t),o=0;o<n.length;o++)s.off(n[o],i)}var o,n=t,s=this;if(e)for(o=0;o<n.length;o++)s.on(n[o],i)}function o(t,e,i){var o=t.createElement("form");o.action=e,o.method="post",o.style.display="none";for(var n in i){var s=t.createElement("input");s.type="hidden",s.name=n,s.value=i[n],o.appendChild(s)}t.body.appendChild(o),o.submit()}function n(){r||(c=e(".ipu-pages"),0==c.size()&&(c=e("<div class='ipu-pages'><div class='ipu-page ipu-show "+f+"' id='"+d+"0'></div>").appendTo("body")),r=!0)}function s(t){return e(t).hasClass(f)}e.fn.animationEnd=function(t){return i.call(this,["webkitAnimationEnd","animationend"],t),this};var a={},r=!1,l={},u=1,d="ipuPage-",c=null,h="ipu-anim ipu-slideRightIn",p="ipu-anim ipu-slideRightOut",m="ipuUIPageBack",f="ipu-page-zero",v="ipu-pages-zero";a.defaultOption={target:window.parent,backIndex:-1,closeIndex:-1,params:{},animate:!0,showLoading:!0,loadingMessage:"正在加载中",method:null,minMessageTime:500,data:null,pageName:"",callBack:function(){}},a.openPage=function(i,a){function r(){a.showLoading&&t.hidePreloader(),a.animate&&g.removeClass(h),p.siblings(".ipu-show").removeClass("ipu-show"),a.callBack&&a.callBack()}var p=null,m=d+u++;l[m]=i,n(),a.showLoading&&t.showPreloader(a.loadingMessage,a.minMessageTime),p=e("post"==a.method?"<div class='ipu-page' id='"+m+"' data-name='"+a.pageName+"'><iframe class='ipu-page-iframe'></iframe></div>":"<div class='ipu-page' id='"+m+"' data-name='"+a.pageName+"'><iframe class='ipu-page-iframe' src='"+i+"'></iframe></div>");var f=s(e(".ipu-page:last",c)),g=p;if(f&&(g=c.addClass(v)),e(".ipu-page-iframe",p).one("load",function(){p.addClass("ipu-show").width(),f&&g.removeClass(v),a.animate?g.addClass(h).animationEnd(r):r()}),p.appendTo(c),"post"==a.method){var b=e(".ipu-page-iframe",p)[0].contentDocument;o(b,i,a.params)}},a.postPage=function(t,e){e.method="post",a.openPage(t,e)},a.backPage=function(t){function i(){e(this).removeClass(p),n.nextAll(".ipu-page").remove();var i,o=e(".ipu-page-iframe",n);i=0==o.size()?window.document:o[0].contentDocument,u&&c.addClass(v);var s=i.createEvent("Event");s.initEvent(m,!0,!0),t.data&&(s.data=t.data),i.body.dispatchEvent(s),t.callBack&&t.callBack()}var o=t.backIndex,n=null,a=e(".ipu-page.ipu-show",c);if(t.pageName)n=e(".ipu-page[data-name='"+t.pageName+"']:first",c);else if(0==o)n=e(".ipu-page:first",c);else{var r=a.prevAll(".ipu-page");n=e(o<0?r[-o-1]:r[r.size()-o])}var l=a,u=s(n);u?l=c:n.addClass("ipu-show"),t.animate?l.addClass(p).animationEnd(i):i()},a.closePage=function(t){var i=t.closeIndex,o=e(".ipu-page.ipu-show",c).prevAll(".ipu-page");i=t.pageName?e(".ipu-page[data-name='"+t.pageName+"']:first",c).index():i<0?-i-1:o.size()-i,e(o[i]).remove(),t.callBack&&t.callBack()},a.open=function(t,i){i=e.extend({},this.defaultOption,i),i.target.ipu.page.openPage(t,i)},a.post=function(t,i){i=e.extend({},this.defaultOption,i),i.method="post",i.target.ipu.page.openPage(t,i)},a.back=function(t){t=e.extend({},this.defaultOption,t),t.target.ipu.page.backPage(t)},a.backHome=function(t){t=t||{},t.backIndex=0,a.back(t)},a.close=function(t){t=e.extend({},this.defaultOption,t),t.target.ipu.page.closePage(t)},a.onBack=function(t){e("body").on(m,function(e){var i=e.originalEvent.data;t(i)})},t.page=a}(n||window,t),function(t,e,i){function o(t){return t/100}function n(t,i){this.el=e(t)[0],this.option=e.extend({},this.defaultOption,i),this._init()}var s=9,a=90,r=180/s,l=r;n.prototype.defaultOption={listen:!0,data:[],onChange:null},n.prototype._init=function(){var n=this;this.wrap=e(">ul",this.el),this.index=null,this.listen=!!this.option.listen,this.beginAngle=0,this.beginExceed=this.beginAngle-l,this.stopInertiaMove=!1,this.lastAngle=null,t.device.ios&&this.wrap.css("transform-origin","center center "+o(a)+"rem"),this.setItems(this.option.data),this.hammer=new i.Manager(this.el),this.hammer.add(new i.Pan({direction:i.DIRECTION_VERTICAL,threshold:5})),this.hammer.add(new i.Press({threshold:4})),this.hammer.on("panstart panmove panend pancancel",i.bindFn(this._onPan,this)),this.hammer.on("press pressup",function(t){this.empty||(n.stopInertiaMove=!0,"pressup"==t.type&&n.endScroll())})},n.prototype.setItems=function(t,i){this.wrap.empty(),this.data=t=t||[],this.empty=0==t.length,this.newData=!0;var n=this,s="";i=i||"text";for(var u=0,d=t.length;u<d;u++)s=s+"<li>"+t[u][i]+"</li>";e(s).appendTo(this.wrap),this.items=e(">li",this.wrap),this.itemsSize=this.items.size(),this.endAngle=(this.empty?0:this.itemsSize-1)*r,this.endExceed=this.endAngle+l,this.items.each(function(t){e(this).css({transform:"translateZ("+o(a)+"rem) rotateX(-"+t*r+"deg)","transform-origin":"center center -"+o(a)+"rem"}),e(this).click(function(){n.stopInertiaMove=!0,n.setAngle(t*r,!0)})});var c;c=this.empty||null==this.index?0:this.index>this.itemsSize-1?(this.itemsSize-1)*r:this.index*r,this.setAngle(c,!0)},n.prototype._onPan=function(t){if(!this.empty)if("panstart"==t.type)self.stopInertiaMove=!0,this.lastAngle=this.angle,this.wrap.addClass("ipu-noanimate"),this.stopInertiaMove=!0;else if("panmove"==t.type){var e=this.calcAngle(t.deltaY),i=this.lastAngle-e;i<this.beginExceed&&(i=this.beginExceed),i>this.endExceed&&(i=this.endExceed),this.setAngle(i)}else{var o=t.overallVelocityY,n=o>0?-1:1,s=6e-4*n*-1,a=Math.abs(o/s),r=o*a/2,l=this.angle,u=-this.calcAngle(r),d=u;if(l+u<this.beginExceed&&(u=this.beginExceed-l,a=a*(u/d)*.6),l+u>this.endExceed&&(u=this.endExceed-l,a=a*(u/d)*.6),0==u)return void this.endScroll();this.scrollDistAngle(l,u,a)}};var u=360/(2*a*Math.PI);n.prototype.calcAngle=function(t){return t*u},n.prototype.setAngle=function(t,e){if(this.angle=t,this.wrap.css("transform","perspective("+o(1e3)+"rem) rotateY(0deg) rotateX("+t+"deg)"),this.calcItemVisable(t),e){var i=t/r,n=this.index;this.index=this.empty?null:i,(n!=i||this.newData)&&(this.option.onChange&&this.listen&&this.option.onChange(this.getSelectedItem(),this.index,n,this.newData),this.newData=!1)}},n.prototype.calcItemVisable=function(t){this.items.each(function(i){var o=Math.abs(i*r-t);o<r/2?e(this).addClass("ipu-highlight ipu-visible"):o>=90-r/2?e(this).removeClass("ipu-highlight ipu-visible"):e(this).addClass("ipu-visible").removeClass("ipu-highlight")})},n.prototype.endScroll=function(){this.wrap.removeClass("ipu-noanimate");var t;if(this.angle<this.beginAngle)t=this.beginAngle;else if(this.angle>this.endAngle)t=this.endAngle;else{var e=parseInt((this.angle/r).toFixed(0));t=r*e}this.setAngle(t,!0)},n.prototype.scrollDistAngle=function(t,e,i){var o=this,n=(new Date).getTime();this.stopInertiaMove=!1,i=1*i,function(t,e,i,n){var s=13,a=n/s,r=0;!function l(){if(!o.stopInertiaMove){var t=o.quartEaseOut(r,e,i,a);return o.setAngle(t),r++,r>a-1||t<o.beginExceed||t>o.endExceed?void o.endScroll():void setTimeout(l,s)}}()}(n,t,e,i)},n.prototype.setListen=function(t){this.listen=!!t},n.prototype.quartEaseOut=function(t,e,i,o){return-i*((t=t/o-1)*t*t*t-1)+e},n.prototype.setSelectedValue=function(t){var e=this;for(var i in e.data){var o=e.data[i];if(o.value==t)return void e.setAngle(i*r,!0)}},n.prototype.getSelectedItem=function(){return this.empty?{}:this.data[this.index]},n.prototype.getSelectedValue=function(){return this.getSelectedItem().value},n.prototype.getSelectedText=function(){return this.getSelectedItem().text},n.prototype.getSelectedIndex=function(){return this.index},t.Picker=n}(n||window,t,i),function(t,e){function i(i){this.option=e.extend({},this.defaultOption,i),o||(o=t.Picker),this._init()}var o=t.Picker;i.prototype._init=function(){this.holder=e(this.option.template).appendTo("body");var t=e(".ipu-poppicker-body",this.holder),i=this.option.layer,n=100/i+"%";this.pickers=new Array(i);var s,a=this;this.mask=this.createMask();for(var r=i-1;r>=0;r--)s=e(this.option.pickerTemplate).prependTo(t).css({width:n}),this.pickers[r]=new o(s,{onChange:function(t){return function(e){t!=i-1&&a.pickers[t+1].setItems(e.data)}}(r)});e(".ipu-poppicker-btn-ok",this.holder).click(function(){
var t=a.getSelectItems();a.option.callBack(t)!==!1&&a.hide()}).text(this.option.btns[1]),e(".ipu-poppicker-btn-cancel",this.holder).click(function(){a.hide()}).text(this.option.btns[0])},i.prototype.defaultOption={template:'<div class="ipu-poppicker"><div class="ipu-poppicker-header"><button class="ipu-btn ipu-btn-s ipu-poppicker-btn-cancel">取消</button><button class="ipu-btn ipu-btn-s ipu-poppicker-btn-ok">确定</button></div><div class="ipu-poppicker-body"></div></div>',pickerTemplate:'<div class="ipu-picker"><div class="ipu-picker-selectbox"></div><ul></ul></div>',data:[],layer:1,btns:["取消","确认"],callBack:function(){}},i.prototype.setData=function(t){this.pickers[0].setItems(t)},i.prototype.show=function(t){t&&(this.option.callBack=t),this.mask.show(),this.holder.addClass("ipu-current")},i.prototype.hide=function(){this.mask.close(),this.holder.removeClass("ipu-current")},i.prototype.getSelectItems=function(){if(1==this.option.layer)return this.pickers[0].getSelectedItem();for(var t=[],e=0;e<this.option.layer;e++)t.push(this.pickers[e].getSelectedItem());return t},i.prototype.createMask=function(t){var e=this,i=document.createElement("div");i.classList.add("ipu-picker-backup"),i.addEventListener("click",function(){e.hide()});var o=[i];return o._show=!1,o.show=function(){return o._show=!0,i.setAttribute("style","opacity:1"),document.body.appendChild(i),o},o._remove=function(){return o._show&&(o._show=!1,i.setAttribute("style","opacity:0"),setTimeout(function(){var t=document.body;i.parentNode===t&&t.removeChild(i)},350)),o},o.close=function(){o._show&&(t?t()!==!1&&o._remove():o._remove())},o},t.popPicker=function(t){return new i(t)}}(n||window,t),function(t,e){function i(t,i){this.id=t,this.level=i.level,this.progress=i.progress,this.progressBar=e(t).eq(0),null!=i.progress&&this.setProgress(this.progress),null!=i.level&&this.setLevel(this.level)}i.prototype.setProgress=function(t){t<0||t>100||(e(this.progressBar.find(".ipu-progressbar")).css("transform","translate3d("+-(100-t)+"%, 0px, 0px)"),this.progress=t)},i.prototype.getProgress=function(){return this.progress},i.prototype.setLevel=function(t){"default"==t?(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-hightlight ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progress")):"success"==t?(e(this.progressBar).removeClass("ipu-progressbar-highlight ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progressbar-success")):"highlight"==t?(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-warning"),e(this.progressBar).addClass("ipu-progressbar-highlight")):"warning"==t&&(e(this.progressBar).removeClass("ipu-progressbar-success ipu-progressbar-highlight"),e(this.progressBar).addClass("ipu-progressbar-warning"))},t.progressBar=function(t,e){return new i(t,e)}}(n||window,t),function(t,e,i){function o(t,o){this.option=e.extend({},this.defaultOption,o),this.el=e(t).get(0),this._initBottomAndTop();var n=this;this.iScrollOption={onScrollMove:function(t){n.topEnable&&!n.topLoading&&(this.y>=n.topPullOffset&&!n.topEl.hasClass("ipu-refresh-toload")?n.topEl.addClass("ipu-refresh-toload"):this.y<n.topPullOffset&&n.topEl.hasClass("ipu-refresh-toload")&&n.topEl.removeClass("ipu-refresh-toload")),n._checkBottomLoading(),n.goTop=this.y>n.topPullOffset},onBeforeScrollEnd:function(){n._checkTopLoading(),n._checkBottomLoading()},onScrollEnd:function(){n.topLoading&&this.y<this.minScrollY&&n.goTop&&n.iScroll.scrollTo(0,this.minScrollY,0),n._checkBottomLoading()},onRefresh:function(){n.topLoading&&(this.minScrollY=this.minScrollY+n.topPullOffset)}},this.iScrollOption=e.extend({},this.option.iScrollOption,this.iScrollOption),this.iScroll=new i(this.el,this.iScrollOption),this._checkContentLoading()}o.prototype.defaultOption={bottomLoadFun:null,topLoadFun:null,initEnableTop:!0,initEnableBottom:!0,bottomLoadHtml:'<div class="ipu-refresh-bottom"><span class="ipu-refresh-loading"></span></div>',topLoadHtml:'<div class="ipu-refresh-top"><span class="ipu-refresh-loading"></span><div class="ipu-refresh-arrow"></div></div>',bottomAddLen:0,iScrollOption:{}},o.prototype._initBottomAndTop=function(){this.scrollEl=e(">.ipu-refresh-wrapper",this.el),this.bottomEl=e(this.option.bottomLoadHtml).appendTo(this.scrollEl),this.topEl=e(this.option.topLoadHtml).prependTo(this.scrollEl),this.topPullOffset=this.topEl.outerHeight(),this.bottomPullOffset=this.bottomEl.outerHeight()+this.option.bottomAddLen,this.topLoading=!1,this.bottomLoading=!1,this.bottomEnable=this.option.initEnableBottom&&!!this.option.bottomLoadFun,this.topEnable=this.option.initEnableTop&&!!this.option.topLoadFun,this.goTop=!1,this.enableBottom(this.bottomEnable),this.enableTop(this.topEnable)},o.prototype._checkBottomLoading=function(){this.bottomEnable&&!this.bottomLoading&&this.iScroll.y<this.iScroll.maxScrollY+this.bottomPullOffset&&this._startBottomLoading()},o.prototype._checkTopLoading=function(){this.topEnable&&!this.topLoading&&this.topEl.hasClass("ipu-refresh-toload")&&this._startTopLoading()},o.prototype._checkContentLoading=function(){this.iScroll.maxScrollY>=-this.bottomPullOffset&&this._startBottomLoading()},o.prototype._startBottomLoading=function(){this.bottomEnable&&!this.bottomLoading&&(this.bottomLoading=!0,this.option.bottomLoadFun())},o.prototype._startTopLoading=function(){this.topEnable&&!this.topLoading&&(this.topLoading=!0,this.topEl.removeClass("ipu-refresh-toload").addClass("ipu-refresh-top-loading"),this.iScroll.minScrollY=this.iScroll.minScrollY+this.topPullOffset,this.option.topLoadFun())},o.prototype.endBottomLoading=function(){this.bottomLoading=!1,this.refresh()},o.prototype.endTopLoading=function(){this.topEl.removeClass("ipu-refresh-top-loading"),this.topLoading=!1,this.refresh()},o.prototype.enableTop=function(t){this.topEnable=t,t?this.topEl.show():this.topEl.hide()},o.prototype.enableBottom=function(t){this.bottomEnable=t,t?this.bottomEl.show():this.bottomEl.hide()},o.prototype.refresh=function(){this.iScroll.refresh(),this._checkContentLoading()},t.refresh=function(t,e){return new o(t,e)}}(n||window,t,e),function(t,e){function i(t,i){this.el=e(t).get(0),this.titleItems=e(".ipu-tab-title:first>li",this.el),this.bodyWrapper=e(".ipu-tab-body-wrapper:first",this.el),this.contentItems=e(">li",this.bodyWrapper),this.option=e.extend({},this.defaultOption,i),this.itemSize=this.contentItems.size(),this.fixed=e(this.el).is(".ipu-tab-fixed");var o=this;this.titleItems.each(function(t){e(this).click(function(){o.show(t)})});var n=this.titleItems.filter(".ipu-current").index();n==-1&&(n=0),this.show(n)}i.prototype.defaultOption={callBack:function(t){}},i.prototype.show=function(t){if(this.fixed){var e=100*-t+"%";this.bodyWrapper.css("transform","translate3d("+e+", 0, 0)")}this.contentItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this.titleItems.eq(t).addClass("ipu-current").siblings().removeClass("ipu-current"),this._end(t)},i.prototype._end=function(t){this.lastIndex=this.currentIndex,this.currentIndex=t,this.option.callBack&&this.option.callBack(t,this.lastIndex)},t.tab=function(t,e){return new i(t,e)}}(n||window,t),function(t,e){function i(t){return t.originalEvent||t}function o(t){var e=t.touches?t.touches[0].pageX:t.clientX,i=t.touches?t.touches[0].pageY:t.clientY;return[e,i]}var n={},s=defaultOptions={distanceAllow:10,displayDelay:100,hideDelay:120,eventName:"click",activeClass:"ipu-active",getHandleNode:function(t){function i(t){var i=(e._data||e.data)(t,"events");if(i&&(i=i[s.eventName]),i){var a=!1;return e.each(i,function(i,s){if(s.selector){var r=e(s.selector,t);if(e.each(n,function(t,e){if(r.is(e))return o=e,!1}),o)return!1}else a=!0}),a&&null==o&&(o=t),o}}if(t&&t.nodeType){for(var o=null,n=[];!("tagName"in t&&i(t))&&t.parentNode&&1==t.parentNode.nodeType;)n.push(t),t=t.parentNode;return o}}},a="ontouchstart"in window,r=a?"touchstart":"mousedown",l=a?"touchmove":"mousemove",u=a?"touchend":"mouseup",d=a?"touchcancel":"";e(function(){function t(t,i){i&&h?window.clearTimeout(h):e(t).removeClass(s.activeClass)}function n(e){e?t(c,e):window.setTimeout(t,s.hideDelay,c,e),a=null,c=null}var a,c,h,p=document.body;e(p).bind(r,function(t){return c?void n(!0):(t=i(t),a=o(t),c=s.getHandleNode(t.target),void(c&&(h=window.setTimeout(function(t){h=null,e(t).addClass(s.activeClass)},s.displayDelay,c))))}),e(p).bind(l,function(t){if(c){t=i(t);var e=o(t);a&&(Math.abs(e[0]-a[0])>s.distanceAllow||Math.abs(e[1]-a[1])>s.distanceAllow)&&n(!0)}}),e(p).bind(u,function(t){c&&n()}),d&&e(p).bind(d,function(t){c&&n()})}),n.setOptions=function(t){s=this.options=e.extend({},defaultOptions,t)},t.active=n}(n||window,t),function(t,e){"use strict";var i={},o=[],n=navigator.userAgent,s=n.match(/(Android);?[\s\/]+([\d.]+)?/),a=n.match(/(iPad).*OS\s([\d_]+)/),r=n.match(/(iPod)(.*OS\s([\d_]+))?/),l=!a&&n.match(/(iPhone\sOS)\s([\d_]+)/);if(i.ios=i.android=i.iphone=i.ipad=i.androidChrome=!1,s&&(i.os="android",i.osVersion=s[2],i.android=!0,i.androidChrome=n.toLowerCase().indexOf("chrome")>=0),(a||l||r)&&(i.os="ios",i.ios=!0),l&&!r&&(i.osVersion=l[2].replace(/_/g,"."),i.iphone=!0),a&&(i.osVersion=a[2].replace(/_/g,"."),i.ipad=!0),r&&(i.osVersion=r[3]?r[3].replace(/_/g,"."):null,i.iphone=!0),i.ios&&i.osVersion&&n.indexOf("Version/")>=0&&"10"===i.osVersion.split(".")[0]&&(i.osVersion=n.toLowerCase().split("version/")[1].split(" ")[0]),i.webView=(l||a||r)&&n.match(/.*AppleWebKit(?!.*Safari)/i),i.os&&"ios"===i.os){var u=i.osVersion.split(".");i.minimalUi=!i.webView&&(r||l)&&(1*u[0]===7?1*u[1]>=1:1*u[0]>7)&&e('meta[name="viewport"]').length>0&&e('meta[name="viewport"]').attr("content").indexOf("minimal-ui")>=0}var d=e(window).width(),c=e(window).height();if(i.statusBar=!1,i.webView&&d*c===screen.width*screen.height?i.statusBar=!0:i.statusBar=!1,i.pixelRatio=window.devicePixelRatio||1,o.push("pixel-ratio-"+Math.floor(i.pixelRatio)),i.pixelRatio>=2&&o.push("retina"),i.os&&(o.push(i.os,i.os+"-"+i.osVersion.split(".")[0],i.os+"-"+i.osVersion.replace(/\./g,"-")),"ios"===i.os))for(var h=parseInt(i.osVersion.split(".")[0],10),p=h-1;p>=6;p--)o.push("ios-gt-"+p);i.statusBar?o.push("with-statusbar-overlay"):e("html").removeClass("with-statusbar-overlay"),i.isWeixin=/MicroMessenger/i.test(n),o.length>0&&e("html").addClass(o.join(" ")),t.device=i}(n||window,t),t(function(){t("body").on("touchstart",function(){}),o.attach(document.body)}),n}"function"==typeof define&&define.amd?define(["jquery","iScroll","Hammer","FastClick"],function(e,i,o,n){return window.ipu=t(e,i,o,n)}):window.ipu=t(window.jQuery,window.iScroll,window.Hammer,window.FastClick)}();
//# sourceMappingURL=ipu.min.js.map
